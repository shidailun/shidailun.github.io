<!DOCTYPE html>
<html>
<head>
    <title>Dictionary Redirect</title>
    <script>
        fetch('/data/words.json')  // Path to your JSON file
            .then(response => response.json())
            .then(wordToId => {
                // Extract word from URL (e.g., /word/abura)
                const word = window.location.pathname
                    .split('/word/')[1]
                    ?.replace(/\..*/, '');  // Removes .htm or .html if present

                if (word && wordToId[word]) {
                    window.location.replace(`https://e-dictionary.ilrdf.org.tw/sdq/terms/${wordToId[word]}.htm`);
                } else {
                    document.body.innerHTML = `<h1>Error: Word "${word}" not found!</h1>`;
                }
            })
            .catch(error => {
                document.body.innerHTML = `<h1>Error loading word list.</h1>`;
            });
    </script>
</head>
<body>
    <p>Redirecting...</p>
</body>
</html>
